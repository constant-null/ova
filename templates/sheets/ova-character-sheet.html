<form class="actor-sheet {{cssClass}}" autocomplete="off">
    <header class="char-sheet-header">
        <img src="systems/ova/public/images/ova-logo.png" class="logo" />
        <div class="character-name-container">
            <input name="name" type="text" class="character-name" value="{{actor.name}}"
                placeholder="{{ localize 'OVA.Name' }}" />
            <div>{{ localize 'OVA.CharacterName'}}</div>
        </div>
        <img src="{{actor.img}}" class="character-portrait" data-edit="img" title="{{actor.name}}" height="128"
            width="128" />
    </header>

    <div class="ability-block flexrow">
        <div>
            <h3 class="ability-title">{{ localize 'OVA.Ability.NamePlural' }}</h3>
            {{> "systems/ova/templates/parts/ability-list.html" items=abilities selected=selectedAbilities
            type="ability"}}
        </div>
        <div>
            <h3 class="ability-title">{{ localize 'OVA.Weakness.NamePlural' }}</h3>
            {{> "systems/ova/templates/parts/ability-list.html" items=weaknesses selected=selectedAbilities
            type="weakness"}}
        </div>
    </div>
    <div class="combat-block">
        <div class="title">
            <span>{{localize 'OVA.CombatStats'}}</span>
            <span class="add-attack">+</span>
        </div>
        <div class="list">
            {{#each attacks as |attack|}}
            <div class="attack-block flexrow item" data-item-id="{{attack._id}}">
                <div class="attack-info">
                    <div class="attack-name">{{attack.name}}</div>
                    <div class="attack-perks">{{printPerks attack}}</div>
                    <div class="attack-description">{{attack.data.description}}</div>
                </div>
                <div class="combat-cell attack-roll small">
                    <div class="combat-cell-name">{{ localize 'OVA.Roll.Short' }}</div>
                    <div class="combat-cell-value">{{ attack.roll }}</div>
                </div>
                <div class="combat-cell attack-damage small">
                    <div class="combat-cell-name">{{ localize 'OVA.DX.Short' }}</div>
                    <div class="combat-cell-value">{{ attack.dx }}</div>
                </div>
                <div class="combat-cell attack-notes small">
                    <div class="combat-cell-name">{{ localize 'OVA.Endurance.Short' }}</div>
                    <div class="combat-cell-value">{{ attack.enduranceCost }}</div>
                </div>
            </div>
            {{/each}}
        </div>
        <div class="stats flexrow">
            <div class="combat-cell">
                <div class="combat-cell-name">{{ localize 'OVA.Defense.Name' }}</div>
                <div class="combat-cell-value">
                    {{#each actor.data.defenses as |defense type|}}<span class="defense-value" data-deftype="{{type}}">{{defense}}</span>{{#if (not @last)}}/{{/if}}{{/each}}
                </div>
            </div>
            <div class="combat-cell">
                <div class="combat-cell-name">{{ localize 'OVA.Health.Name' }}</div>
                <input type="text" class="combat-cell-value" name="data.hp.value" value="{{actor.data.hp.value}}" data-dtype="Number"/>
                <!-- <div class="combat-cell-value">{{ actor.data.hp.value }}({{ actor.data.hp.max }})</div> -->
            </div>
            <div class="combat-cell">
                <div class="combat-cell-name">{{ localize 'OVA.Endurance.Name' }}</div>
                <input type="text" class="combat-cell-value" name="data.endurance.value" value="{{actor.data.endurance.value}}" data-dtype="Number"/>
                <!-- <div class="combat-cell-value">{{ actor.data.endurance.value }}({{ actor.data.endurance.max }})</div> -->
            </div>
        </div>
    </div>
    <div class="fixed-panel">
        <div class='roll-dice'></div>
    </div>
</form>